# 🕐 彈性上班下班時間計算器

[![GitHub Pages](https://img.shields.io/badge/GitHub%20Pages-Live-brightgreen)](https://jakeuj.github.io/edge-extension/)
[![Microsoft Edge](https://img.shields.io/badge/Microsoft%20Edge-Extension-blue)](https://github.com/jakeuj/edge-extension)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## 📋 專案簡介

智慧計算彈性上班制度的下班時間，支援 **Microsoft Edge 擴充套件** 和 **網頁版** 兩種使用方式。

🌐 **立即使用網頁版**：[https://jakeuj.github.io/edge-extension/](https://jakeuj.github.io/edge-extension/)

### 🎯 主要功能

- **彈性上班制度支援**：完美支援 8:30-9:30 彈性上班時間
- **智慧時間計算**：自動計算對應的下班時間
- **即時進度顯示**：視覺化工作進度和剩餘時間
- **出勤系統整合**：可整合現有的出勤查詢系統（擴充套件版）
- **通知提醒**：下班前提醒和到時通知（擴充套件版）
- **繁體中文介面**：完整的本地化支援

## ⚡ 彈性上班制度規則

- **8:30 上班** → **17:45 下班**
- **9:30 上班** → **18:45 下班**
- **8:30-9:30 之間上班** → **固定工作 9小時15分鐘**
- **超過 9:30 上班** → **18:45 下班**
  - **彈性制度備用**：當系統未計算時，使用彈性上班制度：
    - 8:30 上班 → 17:45 下班
    - 9:30 上班 → 18:45 下班
    - 超過 9:30 → 18:45 下班
    - 8:30-9:30 之間固定工作 9小時15分鐘

### 📊 即時資訊顯示
- 當前時間和日期
- 預計下班時間
- 距離下班倒數計時
- 工作進度百分比和進度條

### 🔗 出勤系統整合
- 自動登入公司出勤系統
- 自動偵測今日上班時間
- ServerKey 自動管理和刷新
- 安全儲存登入資訊

### 🔔 智慧提醒
- 下班前 15 分鐘提醒
- 下班時間到達通知
- 可自訂通知設定

### ⚙️ 個人化設定
- 自動重新整理功能
- 通知開關設定
- 手動輸入上班時間
- 資料本地儲存

## 安裝方式

### 方法一：開發者模式安裝（推薦）

1. **下載專案檔案**
   ```bash
   git clone <repository-url>
   cd edge-extension
   ```

2. **開啟 Microsoft Edge**
   - 在網址列輸入：`edge://extensions/`
   - 或點選右上角選單 → 擴充功能

3. **啟用開發者模式**
   - 在擴充功能頁面右上角，開啟「開發者模式」

4. **載入擴充套件**
   - 點選「載入解壓縮」
   - 選擇專案資料夾
   - 確認載入成功

### 方法二：打包安裝

1. **打包擴充套件**
   - 在擴充功能頁面點選「封裝擴充功能」
   - 選擇專案資料夾
   - 產生 .crx 檔案

2. **安裝 .crx 檔案**
   - 將 .crx 檔案拖曳到擴充功能頁面
   - 確認安裝

## 使用說明

### 首次使用

1. **點選擴充套件圖示**
   - 在瀏覽器工具列找到下班時間計算器圖示
   - 點選開啟彈出視窗

2. **登入出勤系統**
   - 輸入公司帳號（格式：gigabyte\username）
   - 輸入密碼
   - 點選「登入」按鈕

3. **設定上班時間**
   - 手動輸入今日上班時間
   - 或點選「自動偵測」從出勤系統取得

### 日常使用

1. **查看下班資訊**
   - 開啟擴充套件即可查看當前狀態
   - 顯示預計下班時間和剩餘時間

2. **自動重新整理**
   - 在設定中開啟「自動重新整理」
   - 每分鐘自動更新資訊

3. **接收通知**
   - 下班前 15 分鐘收到提醒
   - 下班時間到達時收到通知

## 技術規格

- **Manifest 版本**：V3
- **支援瀏覽器**：Microsoft Edge (Chromium)
- **權限需求**：
  - `storage`：儲存使用者設定和登入資訊
  - `activeTab`：讀取當前分頁資訊
  - `notifications`：發送下班提醒通知
- **網路權限**：
  - `https://geip.gigabyte.com.tw/*`：登入 API
  - `https://eipapi.gigabyte.com.tw/*`：出勤查詢 API

## 檔案結構

```
edge-extension/
├── manifest.json          # 擴充套件設定檔
├── popup.html             # 彈出視窗 HTML
├── popup.css              # 彈出視窗樣式
├── popup.js               # 彈出視窗邏輯
├── background.js          # 背景腳本
├── icons/                 # 圖示檔案
│   ├── icon.svg          # SVG 圖示
│   ├── icon16.png        # 16x16 圖示
│   ├── icon32.png        # 32x32 圖示
│   ├── icon48.png        # 48x48 圖示
│   └── icon128.png       # 128x128 圖示
└── README.md             # 說明文件
```

## 安全性說明

- **本地儲存**：所有資料儲存在本地瀏覽器中
- **加密傳輸**：使用 HTTPS 與伺服器通訊
- **權限最小化**：僅請求必要的瀏覽器權限
- **無資料收集**：不收集或傳送個人資料到第三方

## 故障排除

### 登入失敗
- 檢查網路連線
- 確認帳號密碼正確
- 檢查公司 VPN 連線

### 自動偵測失敗
- 確認已成功登入
- 檢查今日是否有打卡記錄
- 嘗試手動輸入上班時間

### 通知未顯示
- 檢查瀏覽器通知權限
- 確認已開啟通知設定
- 檢查系統通知設定

## 更新日誌

### v1.0.0 (2025-09-23)
- 初始版本發布
- 支援彈性上班制度計算
- 整合出勤系統 API
- 實現自動偵測和通知功能

## 授權條款

本專案採用 MIT 授權條款。

## 聯絡資訊

如有問題或建議，請聯絡開發團隊。
